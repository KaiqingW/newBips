<div class="template-row" *ngIf="!isEdit && !row.dummy_template">
    <div class="row-title" *ngIf="row.title">
        <h2>{{row.title}}</h2>
    </div>
    <div class="row-description" *ngIf="row?.description">
        <p>{{row.description}}</p>
    </div>
    <hr>
    <div class="template-cols">
        <div class="template-col" *ngFor="let column of row.columns;let i = index;">
            <div class="column-background" *ngIf="column?.background_image?.url" class="column-image">
                <img [src]="column?.background_image?.url" alt="">
            </div>
            <h3 class="column-title" *ngIf="row?.title">
                {{column.title}}
            </h3>
            <div class="column-description" *ngIf="column?.description">
                <p>{{column.description}}</p>
            </div>
        </div>
    </div>

</div>

<!-- <div  [ngStyle]="componentStyle.component">
    <div *ngIf="row.title">
        <b [ngStyle]="componentStyle.title">{{row.title}}</b>
    </div>
    <div *ngIf="row.description">
        <p [ngStyle]="componentStyle.content">{{row.description}}</p>
    </div>
</div> -->
<div class="container">
    <form class="form" *ngIf="isEdit || row.dummy_template" class="form" #form="ngForm" (ngSubmit)="onSave()" [formGroup]="templateForm">
        <div class="row">
            Top Component information

            <div class="form-group">
                <label for="title">Top Title (Not Required)</label>
                <input class="form-control" id="title" aria-describedby="titleHelp" placeholder="Enter title" type="text" [(ngModel)]="row.title"
                    formControlName="title" name="title" value="">
                <!-- <small id="titleHelp" class="form-text text-muted">Not required.</small> -->
            </div>

            <div class="form-group">
                <label for="description">Top Description (Not Required)</label>
                <textarea class="form-control" id="description" aria-describedby="description" [(ngModel)]="row.description" type="text"
                    placeholder="Please proivde description." formControlName="description" name="" value="" cols="30" rows="10"></textarea>
                <!-- <small id="description" class="form-text text-muted">Not required.</small> -->
            </div>

        </div>

        <div class="row">
            <div class="col-sm-3" formArrayName="columns" *ngFor="let column of templateForm.get('columns').controls; let i = index;">
                <label for="">Column {{i + 1}} : </label>
                <div [formGroupName]="i">
                    <div class="form-group">
                        <label for="title">Column Title</label>
                        <input [(ngModel)]="row.columns[i].title" required class="form-control" id="title" aria-describedby="titleHelp" placeholder="Button Description"
                            type="text" formControlName="title" name="title" value="col 1">
                    </div>

                    <div class="form-group">
                        <label for="title">Column Description</label>
                        <input required [(ngModel)]="row.columns[i].description" class="form-control" id="title" aria-describedby="titleHelp"
                            placeholder="Please Column Description." type="text" formControlName="description"
                            name="title" value="col 1">
                    </div>

                    <div class="form-group">
                        <label for="title">Navigation Link</label>
                        <input required [(ngModel)]="row.columns[i].link" class="form-control" id="title" aria-describedby="titleHelp" placeholder="Please provide url on navigation button."
                            type="text" formControlName="link" name="title" value="col 1">
                    </div>

                    <app-upload-single-img3 [title]="'Image For Column ' + (i + 1) + '(140 * 140)'" (imgChange)="onGetBackgroundImageChange($event, i)"></app-upload-single-img3>
                </div>
            </div>
        </div>
   

        <!-- <app-upload-single-img2 (imgChange)="onGetRowImg($event)"></app-upload-single-img2> -->
        <!-- <div class="form-column" formArrayName="columns" *ngFor="let column of templateForm.get('columns').controls; let i = index;">
            <label for="">Column {{i + 1}} : </label>
            <div [formGroupName]="i">
                <div>
                    <input matInput type="text" required formControlName="title" placeholder="Please provide setion title." name="" value="">
                </div>
                <div>
                    <input matInput type="text" required formControlName="description" placeholder="Please provide setion description." name=""
                        value="">
                </div>

                <label for="">Image:</label>
                <app-upload-single-img2 (imgChange)="onGetBackgroundImageChange($event, i)"></app-upload-single-img2>
            </div>
        </div> -->
            
        <br>

        <div class="col-sm-12">
            <button class="btn btn-primary" [disabled]="!form.valid || button.hasAttribute('is-disabled')" #button (ngSubmit)="button.setAttribute('is-disabled', 'true')"
                type="submit">Save</button>
        </div>
    </form>
</div>